-- Очистка данных
DELETE FROM [dbo].[Files];
DELETE FROM [dbo].[Messages];
DELETE FROM [dbo].[ChatMembers];
DELETE FROM [dbo].[ChatGroup];
DELETE FROM [dbo].[Chat];
DELETE FROM [dbo].[GroupMember];
DELETE FROM [dbo].[Group];
DELETE FROM [dbo].[Userr];
DELETE FROM [dbo].[FAQ];

-- Пользователи (пароль для всех: admin)
SET IDENTITY_INSERT [dbo].[Userr] ON
INSERT [dbo].[Userr] ([ID], [Login], [Password], [FirstName], [MiddleName], [LastName], [Email], [Phone], [BirthDate], [Avatar], [IsActive]) VALUES
(100, N'Bot', N'$2a$11$ZsuU3WZFVJqXObYUApIH9e2q257pVhdKBgkDEyx0YetF.nH.kbrQO', N'FAQ', NULL, N'Бот', N'faqbot@corp.ru', NULL, NULL, NULL, 1),
(1, N'ivanov',   N'$2a$11$ZsuU3WZFVJqXObYUApIH9e2q257pVhdKBgkDEyx0YetF.nH.kbrQO', N'Иван',   N'Иванович', N'Иванов',   N'ivanov@corp.ru',   N'+79990001111', '1990-01-01', NULL, 1),
(2, N'petrov',   N'$2a$11$ZsuU3WZFVJqXObYUApIH9e2q257pVhdKBgkDEyx0YetF.nH.kbrQO', N'Петр',   N'Петрович', N'Петров',   N'petrov@corp.ru',   N'+79990002222', '1991-02-02', NULL, 1),
(3, N'smirnova', N'$2a$11$ZsuU3WZFVJqXObYUApIH9e2q257pVhdKBgkDEyx0YetF.nH.kbrQO', N'Анна',   N'Сергеевна', N'Смирнова', N'smirnova@corp.ru', N'+79990003333', '1992-03-03', NULL, 1),
(4, N'admin',    N'$2a$11$ZsuU3WZFVJqXObYUApIH9e2q257pVhdKBgkDEyx0YetF.nH.kbrQO', N'Админ',   N'Админович', N'Админов',  N'admin@corp.ru',    N'+79990004444', '1985-05-05', NULL, 1),
(5, N'anna',     N'$2a$11$ZsuU3WZFVJqXObYUApIH9e2q257pVhdKBgkDEyx0YetF.nH.kbrQO', N'Анна',    N'Павловна',  N'Миронова', N'anna@corp.ru',     N'+79990005555', '1993-04-04', NULL, 1),
(6, N'sergey',   N'$2a$11$ZsuU3WZFVJqXObYUApIH9e2q257pVhdKBgkDEyx0YetF.nH.kbrQO', N'Сергей',  N'Викторович',N'Сергеев',  N'sergey@corp.ru',   N'+79990006666', '1988-06-06', NULL, 1),
(7, N'kuznetsova', N'$2a$11$ZsuU3WZFVJqXObYUApIH9e2q257pVhdKBgkDEyx0YetF.nH.kbrQO', N'Мария', N'Игоревна', N'Кузнецова', N'kuznetsova@corp.ru', N'+79990007777', '1994-07-07', NULL, 1),
(8, N'vasiliev',   N'$2a$11$ZsuU3WZFVJqXObYUApIH9e2q257pVhdKBgkDEyx0YetF.nH.kbrQO', N'Василий', N'Петрович', N'Васильев', N'vasiliev@corp.ru', N'+79990008888', '1987-08-08', NULL, 1);
SET IDENTITY_INSERT [dbo].[Userr] OFF

-- Группы
SET IDENTITY_INSERT [dbo].[Group] ON
INSERT [dbo].[Group] ([ID], [Name]) VALUES
(1, N'Разработка'),
(2, N'Маркетинг'),
(3, N'HR'),
(4, N'Тестовая группа'),
(5, N'Аналитика'),
(6, N'Поддержка');
SET IDENTITY_INSERT [dbo].[Group] OFF

-- Чаты
SET IDENTITY_INSERT [dbo].[Chat] ON
INSERT [dbo].[Chat] ([ID], [Name], [ID_User_CreatedBy], [CreatedDate], [ID_ChatType], [ChatTopic]) VALUES
(1, N'Общий чат разработки', 1, GETDATE(), 2, N'Обсуждение задач и новостей'),
(2, N'Маркетинг: идеи', 2, GETDATE(), 2, N'Брейншторминг и обсуждение рекламных кампаний'),
(3, N'HR: вопросы', 3, GETDATE(), 2, N'Вопросы по отпускам, больничным и т.д.'),
(4, N'Личный чат: Иванов-Петров', 1, GETDATE(), 1, N'Личные вопросы'),
(5, N'Тестовый групповой чат', 5, GETDATE(), 2, N'Тестирование SignalR и FAQ-бота'),
(6, N'Аналитика: отчёты', 7, GETDATE(), 2, N'Обсуждение аналитических отчётов'),
(7, N'Поддержка: вопросы', 8, GETDATE(), 2, N'Вопросы по поддержке пользователей'),
(8, N'Личный чат: Анна-Кузнецова', 5, GETDATE(), 1, N'Личные вопросы');
SET IDENTITY_INSERT [dbo].[Chat] OFF

-- Привязка чатов к группам
INSERT [dbo].[ChatGroup] ([ID_Chat], [ID_Group]) VALUES
(1, 1),
(2, 2),
(3, 3),
(5, 4),
(6, 5),
(7, 6);

-- Участники групп (расширено)
INSERT [dbo].[GroupMember] ([GroupId], [UserId]) VALUES
-- Разработка
(1, 1), (1, 2), (1, 3), (1, 7),
-- Маркетинг
(2, 2), (2, 5), (2, 3), (2, 8),
-- HR
(3, 3), (3, 1), (3, 6), (3, 7),
-- Тестовая группа
(4, 5), (4, 6), (4, 3), (4, 1), (4, 8),
-- Аналитика
(5, 7), (5, 1), (5, 8), (5, 2),
-- Поддержка
(6, 8), (6, 4), (6, 5), (6, 6);

-- Участники чатов (расширено)
INSERT [dbo].[ChatMembers] ([ID_Userr], [ID_Chat], [ID_ChatRole], [DateJoining]) VALUES
(1, 1, 1, GETDATE()), -- Иванов - админ в чате разработки
(2, 1, 2, GETDATE()), -- Петров - участник
(3, 1, 2, GETDATE()), -- Смирнова - участник
(4, 1, 1, GETDATE()), -- Админ - админ
(7, 6, 1, GETDATE()), -- Кузнецова - админ в аналитике
(1, 6, 2, GETDATE()), -- Иванов - участник
(8, 6, 2, GETDATE()), -- Васильев - участник
(2, 6, 2, GETDATE()), -- Петров - участник
(2, 2, 1, GETDATE()), -- Петров - админ в чате маркетинга
(3, 2, 2, GETDATE()), -- Смирнова - участник
(5, 2, 2, GETDATE()), -- Анна - участник
(8, 7, 1, GETDATE()), -- Васильев - админ в поддержке
(4, 7, 2, GETDATE()), -- Админ - участник
(5, 7, 2, GETDATE()), -- Анна - участник
(6, 7, 2, GETDATE()), -- Сергей - участник
(3, 3, 1, GETDATE()), -- Смирнова - админ в HR
(1, 3, 2, GETDATE()), -- Иванов - участник
(6, 3, 2, GETDATE()), -- Сергей - участник
(3, 5, 2, GETDATE()), -- Смирнова - участник тестового чата
(5, 5, 1, GETDATE()), -- Анна - админ тестового чата
(6, 5, 2, GETDATE()), -- Сергей - участник тестового чата
(5, 8, 1, GETDATE()), -- Анна - личный чат
(7, 8, 2, GETDATE()), -- Кузнецова - личный чат
(1, 4, 1, GETDATE()), -- Иванов - личный чат
(2, 4, 2, GETDATE());

-- FAQ-бот
INSERT [dbo].[FAQ] ([Question], [Answer]) VALUES
(N'Как восстановить пароль?', N'Для восстановления пароля обратитесь к администратору или воспользуйтесь функцией восстановления на экране входа.'),
(N'Как отправить файл в чат?', N'В окне чата нажмите на иконку скрепки и выберите нужный файл для отправки.'),
(N'Как создать новый чат?', N'Перейдите в раздел чатов и нажмите кнопку "Создать чат".'),
(N'Как добавить пользователя в чат?', N'Только администратор чата может добавлять новых участников через меню управления чатом.'),
(N'Как узнать, кто сейчас онлайн?', N'Онлайн-статус отображается рядом с именем пользователя в списке участников чата.'),
(N'Как выйти из группы?', N'Откройте настройки группы и выберите пункт "Покинуть группу".'),
(N'Что делать, если не приходят уведомления?', N'Проверьте настройки уведомлений в профиле и разрешения приложения в вашей операционной системе.'),
(N'Как сменить аватар?', N'Перейдите в профиль и загрузите новое изображение.');

-- Сообщения (разные сценарии)
INSERT [dbo].[Messages] ([ContentMessages], [Timestamp], [ID_User], [ID_Chat]) VALUES
(N'Привет! Я FAQ-бот. Я могу ответить на часто задаваемые вопросы. Просто напиши "Бот, ..." и свой вопрос.', GETDATE(), 2, 1),
(N'Всем привет! Начинаем обсуждение новой задачи.', GETDATE(), 1, 1),
(N'Бот, как восстановить пароль?', GETDATE(), 2, 1),
(N'Для восстановления пароля обратитесь к администратору или воспользуйтесь функцией восстановления на экране входа.', GETDATE(), 2, 1),
(N'Коллеги, кто возьмёт задачу по интеграции?', GETDATE(), 3, 1),
(N'Я могу заняться интеграцией.', GETDATE(), 1, 1),
(N'Бот, как отправить файл в чат?', GETDATE(), 3, 1),
(N'В окне чата нажмите на иконку скрепки и выберите нужный файл для отправки.', GETDATE(), 2, 1),
(N'Привет! Я FAQ-бот. Я могу ответить на часто задаваемые вопросы. Просто напиши "Бот, ..." и свой вопрос.', GETDATE(), 2, 2),
(N'Коллеги, у кого есть идеи для новой кампании?', GETDATE(), 2, 2),
(N'Бот, как создать новый чат?', GETDATE(), 3, 2),
(N'Перейдите в раздел чатов и нажмите кнопку "Создать чат".', GETDATE(), 2, 2),
(N'Давайте обсудим бюджет.', GETDATE(), 5, 2),
(N'Я подготовлю презентацию.', GETDATE(), 3, 2),
(N'Привет! Я FAQ-бот. Я могу ответить на часто задаваемые вопросы. Просто напиши "Бот, ..." и свой вопрос.', GETDATE(), 2, 3),
(N'Бот, как выйти из группы?', GETDATE(), 1, 3),
(N'Откройте настройки группы и выберите пункт "Покинуть группу".', GETDATE(), 2, 3),
(N'Коллеги, кто в отпуске на следующей неделе?', GETDATE(), 6, 3),
(N'Я в отпуске с понедельника.', GETDATE(), 3, 3),
(N'Привет, Пётр!', GETDATE(), 1, 4),
(N'Привет, Иван!', GETDATE(), 2, 4),
(N'Как дела?', GETDATE(), 1, 4),
(N'Всё хорошо, спасибо!', GETDATE(), 2, 4),
(N'Привет! Я FAQ-бот. Я могу ответить на часто задаваемые вопросы. Просто напиши "Бот, ..." и свой вопрос.', GETDATE(), 5, 5),
(N'Бот, как сменить аватар?', GETDATE(), 6, 5),
(N'Перейдите в профиль и загрузите новое изображение.', GETDATE(), 5, 5),
(N'Тестовое сообщение для проверки SignalR.', GETDATE(), 3, 5),
(N'Добро пожаловать в чат аналитики!', GETDATE(), 7, 6),
(N'Коллеги, проверьте новый отчёт.', GETDATE(), 1, 6),
(N'Спасибо, посмотрю сегодня.', GETDATE(), 8, 6),
(N'Всем привет! Вопрос по поддержке: как быстро реагировать на тикеты?', GETDATE(), 8, 7),
(N'Есть инструкция в базе знаний.', GETDATE(), 4, 7),
(N'Спасибо, нашла!', GETDATE(), 5, 7),
(N'Привет, Мария!', GETDATE(), 5, 8),
(N'Привет, Анна! Как дела?', GETDATE(), 7, 8);